SHELL := /bin/bash SRC_P1 := part1 SRC_P2 := part2 SOURCES_P1 := $(wildcard $(SRC_P1)/*.cpp) HEADERS_P1 := $(wildcard $(SRC_P1)/*.hpp) SOURCES_P2 := $(wildcard $(SRC_P2)/*.cpp) HEADERS_P2 := $(wildcard $(SRC_P2)/*.hpp) PART1 := $(SRC_P1)/exe_part1 PART2 := $(SRC_P2)/exe_part2 INPUT := input_file PP := c++ PP_FLAGS := -Wall -Wextra -Werror -Wshadow -Wpedantic -g3 -fsanitize=address GREEN = \x1b[32;01m RED = \x1b[31;01m RESET = \x1b[0m all: $(PART1) $(PART2) $(PART1): $(SOURCES_P1) $(HEADERS_P1) @$(PP) $(PP_FLAGS) $(DEBUG_FLAGS) $(SOURCES_P1) -o $(PART1) @printf "(Advent of Code) $(GREEN)Created program $@$(RESET)\n" $(PART2): $(SOURCES_P2) $(HEADERS_P2) @$(PP) $(PP_FLAGS) $(DEBUG_FLAGS) $(SOURCES_P2) -o $(PART2) @printf "(Advent of Code) $(GREEN)Created program $@$(RESET)\n" part2: $(PART2) @clear @./$(PART2) input_file part1: $(PART1) @clear @./$(PART1) input_file run: all @clear @./$(PART1) input_file @./$(PART2) input_file clean: @rm -f $(PART1) @printf "(Advent of Code) $(RED)Removed program $(PART1)$(RESET)\n" @rm -f $(PART2) @printf "(Advent of Code) $(RED)Removed program $(PART2)$(RESET)\n" re: clean all
